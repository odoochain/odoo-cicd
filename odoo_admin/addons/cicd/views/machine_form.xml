<odoo>
	<data noupdate="0">
		<record id="view_cicd_machine_form" model="ir.ui.view">
			<field name="name">cicd.machine form</field>
			<field name="model">cicd.machine</field>
			<field name="arch" type="xml">
				<form string="">
					<header>
						<button name="test_ssh" string="Test SSH Connection" type="object" />
						<button name="generate_ssh_key" string="Generate SSH Key" type="object" confirm="Old key will be lost. Continue?"/>
						<button name="update_all_values" string="Update All Values" type="object" />
					</header>
					<sheet>
						<div class="oe_title">
							<h1>
								<field name="name" colspan="4" class="oe_inline" />
							</h1>
						</div>
						<group>
							<field name="ttype"/>
							<field name="ssh_user"/>
							<field name="ssh_pubkey"/>
							<field name="is_docker_host"/>
							<field name="effective_host" attrs="{'invisible': [('is_docker_host', '=', False)]}"/>
							<field name="host" attrs="{'required': [('is_docker_host', '=', False)], 'invisible': [('is_docker_host', '=', True)]}"/>
							<field name="external_url"/>
						</group>
						<notebook>
							<page name="volumes" string="Volumes">
								<group string="" col="2">
									<field name="volume_ids" nolabel='1'>
										<tree editable='bottom'>
											<field name="name" />
											<field name="total_size_human"/>
											<field name="free_size_human"/>
											<field name="used_percent"/>
											<field name="ttype"/>
										</tree>
									</field>
								</group>
							</page>
							<page name="reload_config" string="Configuration">
								<group>
									<field name="reload_config"/>
								</group>
							</page>
							<page name="dumps" string="Dumps">
								<group string="Database Connection">
									<field name="db_host"/>
									<field name="db_port"/>
									<field name="db_user"/>
									<field name="db_pwd" password="True"/>
								</group>
								<group string="Dumps">
									<field name="dump_ids" nolabel='1'>
										<tree>
											<field name="active"/>
											<field name="name"/>
											<field name="size_human"/>
										</tree>
									</field>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
	</data>
</odoo>
